## TIL Markdown Style Guide

이 문서는 `posts/` 아래에 작성되는 TIL 마크다운의 **양식을 통일**하기 위한 규칙입니다.
이 저장소는 `gray-matter`로 frontmatter를 파싱하므로, **frontmatter 규칙은 필수**입니다.

---

## 1. 공통 규칙 (모든 글에 적용)

### 1.1 Frontmatter (필수)

- **반드시 포함**: 파일의 첫 줄은 `---`로 시작
- **반드시 종료**: frontmatter 마지막 줄은 `---`
- **구분선 사용 금지**: frontmatter 다음에 긴 하이픈 라인/수평선으로 구분하지 않는다. (바로 본문 `##`부터 시작)
- **필수 필드**
  - `title`: string
  - `date`: `"YYYY-MM-DD"` (문자열)
  - `summary`: string (1~2문장 권장)
- **권장 필드**
  - `tags`: string[] (소문자/케밥 권장)

예시:

```md
---
title: "제목"
date: "2026-01-21"
tags: ["cloudfront", "cdn", "invalidation"]
summary: "한 문단 요약(1~2문장). 무엇을 왜 정리했는지."
---
```

### 1.2 제목/헤딩 규칙

- 문서 최상단 `#` 제목은 **쓰지 않는다** (제목은 frontmatter의 `title`로만 관리)
- 본문 섹션은 **`##`부터 시작**
- 헤딩 계층은 `##` → `###` → `####`까지만 사용(가독성 목적)

### 1.3 리스트/문단 규칙

- 불릿은 `- `로 통일 (특수 불릿/탭 불릿 금지)
- 번호 리스트는 `1.` 스타일로 통일
- 문단은 한 줄에 너무 길게 늘어뜨리기보다, 의미 단위로 줄바꿈 가능(자유)

### 1.4 코드 블록 규칙

- 코드 블록은 펜스(트리플 백틱 ` ``` `)를 사용한다.
- **가능하면 언어 태그를 명시**한다.
  - 예: `ts`, `tsx`, `bash`, `yaml`, `json`, `css`, `html`, `groovy`
- 인라인 코드는 백틱으로 감싼다: `` `queryClient.invalidateQueries` ``

예시:

````md
```ts
const x: number = 1
```
````

### 1.5 링크/참고(References) 규칙

- 본문 링크는 `[설명](URL)` 형태로 작성
- URL을 그대로 노출해야 하면 백틱으로 감싼다: `` `https://example.com` ``
- 외부 참고는 마지막에 `## 참고` 섹션으로 모아 정리(권장)

예시:

```md
## 참고

- [Vite - The Public Directory](https://vitejs.dev/guide/assets#the-public-directory)
```

### 1.6 이미지 규칙 (선택)

- 이미지 파일은 `public/images/`에 둔다(권장)
- 마크다운에서는 상대 경로로 접근한다: `![alt](/images/foo.png)`
- alt 텍스트는 “이미지가 전달하는 정보”를 짧게 쓴다.

---

## 2. 글 템플릿 (2종)

아래 두 가지 템플릿만 허용합니다.
새 글 작성 시 본인이 어느 유형인지 먼저 선택하고 섹션을 맞춥니다.

---

## 2.1 문제해결형 템플릿 (Incident / Debug / Decision)

**사용 상황**

- 운영/배포/빌드/성능/버그 등 “문제가 있었고 해결했다” 성격
- 변경 전후 비교, 의사결정 근거가 중요한 글

**필수 섹션**

```md
## 1. 문제 인지 / 상황 설명

## 2. 문제 정의 및 원인 분석

## 3. 해결 방법

## 4. 결과

## 5. 결론 (배운 점)
```

**권장 추가 섹션(선택)**

- `## 참고`
- `## 트레이드오프` (해결책 선택의 비용/리스크가 클 때)
- `## 재발 방지` (운영성 이슈/프로세스 개선이 있을 때)

---

## 2.2 개념정리형 템플릿 (Study / Guide)

**사용 상황**

- API/언어/프레임워크 개념 정리, 사용법, 비교, 가이드
- 문제 해결보다는 “정리/학습/원리” 중심

**필수 섹션**

```md
## 배경

## 배운 내용

## 느낀 점
```

**권장 추가 섹션(선택)**

- `## 코드 예제`
- `## 요약`
- `## 참고`

---

## 3. 기존 글 리포맷 체크리스트 (점진적 통일용)

기존 글을 수정할 일이 생기면 아래 체크리스트 기준으로 함께 정리합니다(“한 번에 하나씩” 점진 적용).

- **Frontmatter**
  - `---`로 시작/종료되는가?
  - `title/date/summary`가 있는가?
  - `date`가 `"YYYY-MM-DD"` 형식인가?
  - `tags`가 있다면 string 배열인가?
- **헤딩**
  - 문서 최상단 `#`를 쓰지 않았는가?
  - 섹션이 `##`부터 시작하는가?
  - 템플릿(문제해결형/개념정리형) 중 하나를 따르는가?
- **마크다운 스타일**
  - 불릿이 `-`로 통일되어 있는가?
  - 코드블록에 언어 태그가 있는가(가능한 범위)?
  - “참고 링크”가 본문에 흩어져 있지 않고 `## 참고`로 모였는가(가능한 범위)?

---

## 4. (선택) 자동 검증 아이디어

향후 원하면 다음 자동화를 추가할 수 있습니다.

- CI에서 `posts/**/*.md`를 스캔하여 frontmatter 필수 필드 누락을 검증
- 템플릿 섹션 누락(필수 헤딩) 여부를 간단히 체크

