---

title: "얕은 비교 vs 깊은 비교"
date: "2025-08-22"
tags: ["JavaScript", "비교", "얕은 비교", "깊은 비교"]
summary: "JavaScript에서 객체/배열을 비교할 때 얕은 비교와 깊은 비교의 차이를 정리합니다."
-------------------------------------------------------------

## 얕은 비교 (Shallow Equality)

* **정의**: 객체의 **참조(주소값)** 만 비교하여 같은 객체인지 판별
* 주로 `===` 또는 `Object.is()` 로 이루어짐
* 내부 값은 비교하지 않음 → 중첩된 객체는 동일한지 알 수 없음

### 예시

```ts
const obj1 = { a: 1, b: { c: 2 } };
const obj2 = { a: 1, b: { c: 2 } };
const obj3 = obj1;

console.log(obj1 === obj2); // false (서로 다른 객체 참조)
console.log(obj1 === obj3); // true (같은 객체 참조)
```

---

## 깊은 비교 (Deep Equality)

- **정의**: 객체의 **모든 속성과 하위 값들** 까지 재귀적으로 비교
- 참조가 다르더라도 **값 구조가 동일하다면 같음**으로 판단
- 직접 구현하거나 Lodash의 `_.isEqual()` 같은 라이브러리를 활용

### 예시

```ts
import _ from "lodash";

const obj1 = { a: 1, b: { c: 2 } };
const obj2 = { a: 1, b: { c: 2 } };

console.log(_.isEqual(obj1, obj2)); // true
```

---

## 비교 요약

| 구분       | 얕은 비교                       | 깊은 비교                           |
| ---------- | ------------------------------- | ----------------------------------- |
| 비교 방식  | 참조(주소값) 비교               | 모든 속성과 하위 값 재귀적으로 비교 |
| 속도       | 빠름                            | 느림                                |
| 활용 사례  | React `PureComponent`, `memo`   | 객체 상태 동등성 검사, 테스트 코드  |
| 라이브러리 | 기본 연산자(`===`, `Object.is`) | Lodash `_.isEqual`, 직접 구현       |

---

## 정리

- 얕은 비교: **빠르지만 내부 값까지는 확인 불가**
- 깊은 비교: **정확하지만 성능 부담이 큼**
- 상황에 맞게 선택하는 것이 중요하다.
